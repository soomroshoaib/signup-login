{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pc\\\\Desktop\\\\strugbits\\\\my-app\\\\src\\\\components\\\\ContextProvider\\\\Context.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const LoginContext = /*#__PURE__*/createContext(\"\");\nconst Context = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const history = useNavigate();\n  const [loginData, setloginData] = useState(\"\");\n  useEffect(() => {\n    getUser();\n  }, []);\n  const getUser = async () => {\n    let token = localStorage.getItem(\"usersdatatoken\");\n    //  console.log(\"token: \" , token)\n    const res = await fetch(\"/validuser\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": token\n      }\n    });\n    const data = await res.json();\n    if (data.status === 401 || !data) {\n      hist.ory(\"*\");\n    } else {\n      setloginData(data);\n      history(\"/dash\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LoginContext.Provider, {\n      value: {\n        loginData,\n        setloginData\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n_s(Context, \"++jdtCV8TadFJfeH/eu8NMpiaNw=\", false, function () {\n  return [useNavigate];\n});\n_c = Context;\nexport default Context;\nvar _c;\n$RefreshReg$(_c, \"Context\");","map":{"version":3,"names":["React","createContext","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginContext","Context","_ref","_s","children","history","loginData","setloginData","getUser","token","localStorage","getItem","res","fetch","method","headers","data","json","status","hist","ory","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/pc/Desktop/strugbits/my-app/src/components/ContextProvider/Context.js"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react'\r\nimport {useNavigate} from 'react-router-dom';\r\n\r\n\r\nexport const LoginContext = createContext(\"\")\r\n\r\n const Context = ({children}) => {\r\n\r\n  const history = useNavigate()\r\n    const [loginData, setloginData] = useState(\"\")\r\n    useEffect(()=>{\r\n      getUser()\r\n    },[])\r\n\r\n        const  getUser = async ()=>{\r\n        let token = localStorage.getItem(\"usersdatatoken\");\r\n        //  console.log(\"token: \" , token)\r\n        const  res =  await fetch(\"/validuser\",{\r\n          method:\"GET\",\r\n          headers:{\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\":token\r\n          }\r\n        })\r\n           const data = await res.json()\r\n        if(data.status === 401 || !data){\r\n          hist.ory(\"*\")\r\n        }else{\r\n           setloginData(data)\r\n          history(\"/dash\")\r\n        }\r\n    }\r\n  return (\r\n    <>\r\n    <LoginContext.Provider value={{ loginData, setloginData }}>\r\n        {children}\r\n    </LoginContext.Provider>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Context\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACjE,SAAQC,WAAW,QAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAG7C,OAAO,MAAMC,YAAY,gBAAGR,aAAa,CAAC,EAAE,CAAC;AAE5C,MAAMS,OAAO,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAE1B,MAAMG,OAAO,GAAGV,WAAW,CAAC,CAAC;EAC3B,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC9CD,SAAS,CAAC,MAAI;IACZe,OAAO,CAAC,CAAC;EACX,CAAC,EAAC,EAAE,CAAC;EAED,MAAOA,OAAO,GAAG,MAAAA,CAAA,KAAU;IAC3B,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC;IAClD;IACA,MAAOC,GAAG,GAAI,MAAMC,KAAK,CAAC,YAAY,EAAC;MACrCC,MAAM,EAAC,KAAK;MACZC,OAAO,EAAC;QACN,cAAc,EAAE,kBAAkB;QAClC,eAAe,EAACN;MAClB;IACF,CAAC,CAAC;IACC,MAAMO,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;IAChC,IAAGD,IAAI,CAACE,MAAM,KAAK,GAAG,IAAI,CAACF,IAAI,EAAC;MAC9BG,IAAI,CAACC,GAAG,CAAC,GAAG,CAAC;IACf,CAAC,MAAI;MACFb,YAAY,CAACS,IAAI,CAAC;MACnBX,OAAO,CAAC,OAAO,CAAC;IAClB;EACJ,CAAC;EACH,oBACER,OAAA,CAAAE,SAAA;IAAAK,QAAA,eACAP,OAAA,CAACG,YAAY,CAACqB,QAAQ;MAACC,KAAK,EAAE;QAAEhB,SAAS;QAAEC;MAAa,CAAE;MAAAH,QAAA,EACrDA;IAAQ;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU;EAAC,gBACtB,CAAC;AAEP,CAAC;AAAAvB,EAAA,CAjCMF,OAAO;EAAA,QAEIN,WAAW;AAAA;AAAAgC,EAAA,GAFtB1B,OAAO;AAmCd,eAAeA,OAAO;AAAA,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}